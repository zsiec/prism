package moq

import "testing"

func BenchmarkAnnexBToAVC1(b *testing.B) {
	nalus := [][]byte{
		{0x00, 0x00, 0x00, 0x01, 0x67, 0x42, 0xE0, 0x1E, 0xAB, 0xCD},
		{0x00, 0x00, 0x00, 0x01, 0x68, 0xCE, 0x38, 0x80},
		{0x00, 0x00, 0x00, 0x01, 0x65, 0x88, 0x84, 0x00, 0xFF, 0xFE, 0x01, 0x02, 0x03, 0x04},
	}

	for b.Loop() {
		AnnexBToAVC1(nalus)
	}
}

func BenchmarkStripADTS(b *testing.B) {
	// 7-byte ADTS header + payload
	data := []byte{0xFF, 0xF1, 0x50, 0x80, 0x02, 0x00, 0xFC, 0xDE, 0xAD, 0xBE, 0xEF}

	for b.Loop() {
		StripADTS(data)
	}
}
