package demux

import "testing"

var benchAnnexBData = []byte{
	0x00, 0x00, 0x00, 0x01, 0x67, 0x42, 0xE0, 0x1E,
	0x00, 0x00, 0x00, 0x01, 0x68, 0xCE, 0x38, 0x80,
	0x00, 0x00, 0x00, 0x01, 0x65, 0x88, 0x84, 0x00, 0xFF, 0xFE,
}

var benchSPSData = []byte{
	0x67, 0x64, 0x00, 0x1f, 0xac, 0xd9, 0x40, 0x50,
	0x05, 0xbb, 0xff, 0x00, 0x03, 0x00, 0x04, 0x6a,
	0x02, 0x02, 0x02, 0x80, 0x00, 0x01, 0xf4, 0x80,
	0x00, 0x5d, 0xc0, 0x07, 0x8c, 0x18, 0xcb,
}

func BenchmarkParseAnnexB(b *testing.B) {
	b.SetBytes(int64(len(benchAnnexBData)))
	for b.Loop() {
		ParseAnnexB(benchAnnexBData)
	}
}

func BenchmarkParseSPS(b *testing.B) {
	b.SetBytes(int64(len(benchSPSData)))
	for b.Loop() {
		ParseSPS(benchSPSData)
	}
}
